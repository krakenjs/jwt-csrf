!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("jwtCsrf",[],t):"object"==typeof exports?exports.jwtCsrf=t():e.jwtCsrf=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){p=e}function o(e){return p}function i(e){a=e}function s(){return a}function u(e){d=e}function c(){(0,f.interceptHeader)(a,{get:function(e){p=e},set:function(){return p}},d)}Object.defineProperty(t,"__esModule",{value:!0}),t.setToken=n,t.getToken=o,t.setHeaderName=i,t.getHeaderName=s,t.setOptions=u,t.patchXhr=c;var f=r(1),p=void 0,a="x-csrf-jwt",d={}},function(e,t,r){"use strict";function n(e,t,r){var n=t.get,i=t.set,s=(0,o.getExcludedUrls)(r);if(i){var u=window.XMLHttpRequest.prototype.open;window.XMLHttpRequest.prototype.open=function(){var t=u.apply(this,arguments),r=i();if(!r)return t;var n=arguments&&arguments.length>1&&arguments[1],c=s.length>0?s.filter(function(e,t,r){return(0,o.filterUrls)(e,r,n)}):[];c.length||this.setRequestHeader(e,r);var f=this.setRequestHeader;return this.setRequestHeader=function(t,r){if(t!==e)return f.apply(this,arguments)},t}}if(n){var c=window.XMLHttpRequest.prototype.send;window.XMLHttpRequest.prototype.send=function(){function t(){try{var t=this.responseURL,r=s.length>0?s.filter(function(e,r,n){return(0,o.filterUrls)(e,n,t)}):[];if(!r.length){var u=this.getResponseHeader(e);u&&n(u)}}catch(e){}if(i)return i.apply(this,arguments)}var r=this,i=r.onreadystatechange;return delete r.onreadystatechange,r.onreadystatechange=t,Object.defineProperty(r,"onreadystatechange",{get:function(){return t},set:function(e){i=e}}),c.apply(this,arguments)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.interceptHeader=n;var o=r(2)},function(e,t){"use strict";var r=Object.prototype.toString,n=function(e){return!!/object RegExp/.exec(r.apply(e))},o=function(e){return!!/object String/.exec(r.apply(e))},i=function(e){return!!/object Array/.exec(r.apply(e))},s=function(e,t,r){if(i(e)){var s=e[0],u=e[1]||"";return new RegExp(s,u).test(r)}if(n(e))return e.test(r);if(o(e)){var c=new RegExp(e),f=(r||"").split(/[?#]/,1)[0];return!!c.exec(r)||t.indexOf(f)!==-1}},u=function(e){var t=e.excludeUrls||[];return e.baseUrl&&(t=t.map(function(t){return e.baseUrl+t})),t};e.exports={toString:r,isRegExp:n,isString:o,isArray:i,filterUrls:s,getExcludedUrls:u}}])});